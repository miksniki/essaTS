{"version":3,"sources":["components/Header/img/logomusic.jpg","components/Upload/img/noot1.jpg","components/Upload/img/arrow.png","components/Header/Header.tsx","components/Lugu/Lugu.tsx","components/Lood/Lood.tsx","components/ValitudLugu/ValitudLugu.tsx","components/Menu/Menu.tsx","components/Upload/Uploads.tsx","App.tsx","index.tsx"],"names":["module","exports","Header","className","style","width","height","src","Logo","alt","Lugu","looNimi","laulja","looPilt","handleClick","index","onClick","data-index","Lood","playlist","map","lugu","i","key","ValitudLugu","require","Menu","useState","activeIndex","setActiveIndex","musicRef","useRef","useEffect","current","heliFail","length","ref","autoPlay","controls","e","newActiveIndex","target","getAttribute","axios","Uploads","useForm","register","handleSubmit","uploadedFiles","setUploadedFile","valitudLood","setValitudLood","editedSongs","setEditedSongs","scrollRef","onSubmit","data","a","formData","FormData","append","file","fetch","method","body","then","res","json","alert","JSON","stringify","getFiles","files","getEditedFiles","splitAudio","fileName","console","warn","checkboxChange","checkedSongs","value","includes","filter","concatAudio","url","deleteAudio","downloadFile","blob","window","URL","createObjectURL","document","createElement","href","download","click","marginBottom","scrollIntoView","behavior","Arrow","paddingTop","Note","type","name","accept","background","color","fontSize","paddingBottom","id","onChange","Blob","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.76048d24.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logomusic.c03d1197.jpg\";","module.exports = __webpack_public_path__ + \"static/media/noot1.5837ddd3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.815b98cc.png\";","import React from 'react';\nimport Logo from './img/logomusic.jpg';\n\nimport './Header.scss';\n\nfunction Header() {\n    return(\n        <div className=\"header\">\n            <h1>\n                Skully\n                <img style={{width: '80px',height: '50px'}} className=\"logo\" src={Logo} alt=\"logo\"></img>\n            </h1>\n        </div>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport './Lugu.scss';\n\ntype Props = {\n    looPilt: string;\n    looNimi: string;\n    laulja: string\n    handleClick: any;\n    index: number\n}\n\nconst Lugu: React.FC<Props> = ({ looNimi, laulja, looPilt, handleClick, index }) => {\n    return (\n        <div>\n           <img \n                src={looPilt} \n                className=\"pildike\" \n                alt=\"pildike\" \n                onClick={handleClick} \n                data-index={index}\n           />\n           <div className=\"wrapper\">\n                <p \n                    onClick={handleClick}\n                    data-index={index}\n                >\n                {laulja} - {looNimi}\n                </p>\n           </div>\n        </div>\n    )\n}\n\nexport default Lugu;","import React from 'react';\nimport Lugu from '../Lugu/Lugu';\n\nimport './Lood.scss';\n\ntype Props = {\n    playlist: any[];\n    handleClick: any;\n}\n\nconst Lood: React.FC<Props> = ({ playlist, handleClick }) => {\n    return (\n        <div className=\"lood\">\n            <div>\n                {\n                playlist.map(((lugu:any, i:number) => {\n                    return (\n                        <Lugu \n                            key={lugu.looPilt} \n                            looNimi={lugu.looNimi}\n                            laulja={lugu.laulja}\n                            looPilt={lugu.looPilt}\n                            handleClick={handleClick}\n                            index={i}\n                        />\n                    )\n                }))}\n            </div>\n        </div>\n    )\n}\n\nexport default Lood;","import React from 'react';\nimport './ValitudLugu.scss';\n\nconst ValitudLugu: React.FC<any> = ({ lugu }) => {\n    return (\n        <div>\n            <img src={lugu.looPilt} alt='pildike'/>\n            \n        </div>\n    )\n}\n\nexport default ValitudLugu;","import React, { useState, useEffect, useRef, FC } from 'react';\nimport Lood from '../Lood/Lood';\nimport ValitudLugu from '../ValitudLugu/ValitudLugu';\n\nimport './Menu.scss';\n\nconst playlist = require('../../songPlaylist.json');\n\nconst Menu: FC = () => {\n    \n    const [activeIndex, setActiveIndex] = useState<number>(0);;\n    const musicRef = useRef<HTMLAudioElement>(null);\n\n    useEffect(() => {\n        if(musicRef.current && musicRef.current.src !== playlist[activeIndex].heliFail)\n            musicRef.current.src = playlist[activeIndex].heliFail\n    }, [activeIndex]);\n\n    const handleClick = (e:any) => {\n        const newActiveIndex = e.target.getAttribute('data-index')\n        setActiveIndex( newActiveIndex )\n    };\n\n    return(\n        <div className=\"menu\">\n            {/* valitud loo preview */}\n            <div className=\"container1\">\n                {playlist.length &&  <ValitudLugu lugu={playlist[activeIndex]}/>}\n                <p>\n                    {playlist.length && \n                    <h1 className=\"title\">{(`Now playing: ${playlist[activeIndex].laulja} - ${playlist[activeIndex].looNimi}`)}</h1>}\n                </p>\n                <audio className=\"audio\" ref={musicRef} autoPlay controls />\n            </div>\n            {/* lugude list */}\n            <div className=\"container2\">\n                <h1>Pick a song!\n                    <p className=\"click\">(Only the freshest bangers!)</p>\n                </h1>\n                <Lood playlist={playlist} handleClick={handleClick}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Menu;\n","import React, { useState, useRef, FC } from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport Note from './img/noot1.jpg';\nimport Arrow from './img/arrow.png';\n\n\nimport './Uploads.scss';\n\nconst axios = require('axios');\n\n\nconst Uploads: FC = () => {\n\n    const { register, handleSubmit } = useForm<any>();\n\n    const [uploadedFiles, setUploadedFile] = useState<any>();\n    const [valitudLood, setValitudLood] = useState<any>([]);\n    const [editedSongs, setEditedSongs] = useState<any>();\n\n    const scrollRef = useRef<HTMLHeadingElement>(null);\n    \n    const onSubmit = async (data:any) => {\n        const formData = new FormData();\n        formData.append('file', data.file[0]);\n\n        const res = await fetch('http://localhost:5000/upload', {\n            method: \"POST\",\n            body: formData\n        }).then(res => res.json())\n        alert(JSON.stringify(res))\n    };\n\n    const getFiles = async () => {\n        await fetch('http://localhost:5000/songs')\n            .then(res => res.json())\n            .then(files => setUploadedFile(files.files))\n    };\n\n    const getEditedFiles = async () => {\n        await fetch('http://localhost:5000/editedSongs')\n            .then(res => res.json())\n            .then(files => setEditedSongs(files.files))\n    };\n\n    const splitAudio = async (fileName: string) => {\n        await fetch(`http://localhost:5000/${fileName}/split`) \n            .then(res => res.json())\n            .then(function(data){alert(JSON.stringify(data))\n            console.warn(data)\n        })\n        await getEditedFiles();\n\n    }\n\n    const checkboxChange = (e:any) => {\n        let checkedSongs = [...valitudLood, e.target.value];\n        if(valitudLood.includes(e.target.value )) {\n            checkedSongs = checkedSongs.filter(file => file !== e.target.value);\n        }\n        setValitudLood(checkedSongs)\n    }\n\n    const concatAudio = async (valitudLood:string[]) => {\n        if (valitudLood.length === 2){\n            await axios({\n            method: \"POST\",\n            url: 'http://localhost:5000/concat',\n            data: valitudLood\n            })\n            await getEditedFiles();\n        } else {\n            alert(\"You need to select 2 songs!\")\n        }      \n    }  \n\n    const deleteAudio = async (fileName:string) => {\n        await axios({\n            method: \"POST\",\n            url: 'http://localhost:5000/delete',\n            data: {\n                files : `${fileName}`\n            }\n        })\n        await getEditedFiles();        \n    }\n\n    const download = (fileName:any) => {\n        const blob = new Blob(['audio'], {type: 'audio/mpeg'})\n        downloadFile(blob, `${fileName}`);\n    }\n\n    const downloadFile = (blob:any, fileName:any) => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href= url;\n        a.download = fileName;\n        a.click();\n    }\n\n    return(\n        <div className=\"uploads\">\n            <button \n                className=\"btn\"\n                style={{marginBottom: '20px'}}\n                onClick={() => {\n                    if (scrollRef && scrollRef.current) {\n                        scrollRef.current.scrollIntoView({behavior: \"smooth\"});\n                    }\n                }}>\n                    <img style={{width: '20px', height: '20px'}} className=\"arrow\" alt=\"arrow\" src={Arrow}></img>\n            </button>\n            \n            <h1 ref={scrollRef} className=\"title1\">Upload and edit songs!</h1>\n            <img style={{width: '50px', height: '50px', paddingTop: '20px'}} src={Note} alt=\"noot1\"/>\n            <div className=\"form\">\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <input ref={register} type=\"file\" name=\"file\" accept=\"audio/mpeg\" />\n                    <button style={{background: 'rgb(133, 39, 128)', color: 'white', fontSize: '30px'}}>Submit</button>\n                </form>\n            </div>\n            <div>\n                <button style={{marginBottom: '40px'}} onClick={getFiles}>Show uploaded songs</button>\n                {uploadedFiles ? (\n                <div className=\"uploaded\">\n                    {uploadedFiles.map((fileName: string) =>\n                        <div className=\"uploadedSongs\">\n                            <h1 style={{paddingBottom: '40px'}}>\n                                {fileName}\n                                <input className=\"check\" type=\"checkbox\" id={fileName} value={fileName} onChange={checkboxChange}></input>\n                            </h1>\n                            <audio src={'/' + fileName} controls />\n                            <button onClick={() => splitAudio(fileName)}>Split audio</button>                           \n                        </div>\n                    )}\n                    <button onClick={() => concatAudio(valitudLood)}>Concat selected songs</button>\n                    <button onClick={getEditedFiles}>Show edited songs</button>\n                    {editedSongs ? (\n                    <div>\n                        {editedSongs.map((fileName: string) => \n                        <div className=\"editedSongs\">\n                            <h1 style={{paddingBottom: '40px'}}> \n                            {fileName}\n                            </h1>\n                            <audio src={'/' + fileName} controls />\n                            <button onClick={() => download(fileName)}>Download</button>\n                            <button onClick={() => deleteAudio(fileName)}>Delete</button>\n                        </div>\n                        )}\n                    </div>\n                    ): null}\n                    </div>               \n                ) : null}\n            </div>\n        </div>\n    )\n}\n\nexport default Uploads;","import React from 'react';\nimport './App.scss';\nimport Header from './components/Header/Header';\nimport Menu from './components/Menu/Menu';\nimport Uploads from './components/Upload/Uploads';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Menu />\n      <Uploads />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}