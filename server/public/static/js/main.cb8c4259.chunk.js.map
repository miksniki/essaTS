{"version":3,"sources":["components/Lugu/Lugu.tsx","components/Lood/Lood.tsx","components/ValitudLugu/ValitudLugu.tsx","components/Menu/Menu.tsx","App.tsx","index.tsx"],"names":["Lugu","looPilt","handleClick","index","src","className","alt","onClick","data-index","Lood","playlist","map","lugu","i","key","ValitudLugu","require","Menu","useState","activeIndex","setActiveIndex","useForm","register","handleSubmit","uploadedFile","setUploadedFile","musicRef","useRef","useEffect","current","heliFail","onSubmit","data","a","formData","FormData","length","append","file","fetch","method","body","then","res","json","alert","JSON","stringify","style","paddingTop","laulja","looNimi","ref","autoPlay","controls","e","newActiveIndex","target","getAttribute","type","name","accept","multiple","console","log","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"64CAuBeA,G,MAde,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,MACnD,OACI,6BACG,yBACKC,IAAKH,EACLI,UAAU,UACVC,IAAI,UACJC,QAASL,EACTM,aAAYL,OCWbM,EApBe,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,SAAUR,EAAkB,EAAlBA,YACvC,OACI,6BACI,6BAEIQ,EAASC,KAAK,SAACC,EAAUC,GACrB,OACI,kBAAC,EAAD,CACIC,IAAKF,EAAKX,QACVA,QAASW,EAAKX,QACdC,YAAaA,EACbC,MAAOU,UCPpBE,G,MAToB,SAAC,GAAc,IAAZH,EAAW,EAAXA,KAClC,OACI,6BACI,yBAAKR,IAAKQ,EAAKX,QAASK,IAAI,eCClCI,G,MAAWM,EAAQ,KA0FVC,EAvFE,WAAO,IAAD,EAEmBC,mBAAiB,GAFpC,mBAEZC,EAFY,KAECC,EAFD,OAGgBC,cAA3BC,EAHW,EAGXA,SAAUC,EAHC,EAGDA,aAHC,EAIqBL,mBAAc,IAJnC,mBAIZM,EAJY,KAIEC,EAJF,KAMbC,EAAWC,iBAAyB,MAE1CC,qBAAU,WACHF,EAASG,UACRH,EAASG,QAAQzB,IAAMM,EAASS,GAAaW,YAClD,CAACX,IAEJ,IAKMY,EAAQ,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,sDAEb,IADMC,EAAW,IAAIC,SACZtB,EAAI,EAAGA,EAAImB,EAAKI,OAAQvB,IACjCqB,EAASG,OAAT,eAAwBxB,EAAxB,KAA8BmB,EAAKM,KAAKzB,IAH3B,gBAMK0B,MAAM,+BAAgC,CACpDC,OAAQ,OACRC,KAAMP,IACPQ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UATN,OAMPD,EANO,OAUbE,MAAMC,KAAKC,UAAUJ,IAErBlB,EAAgBO,EAAKM,MAZR,2CAAH,sDAiCd,OACI,yBAAKjC,UAAU,QAEX,yBAAKA,UAAU,cApBhBK,EAAS0B,OAEJ,kBAAC,EAAD,CAAaxB,KAAMF,EAASS,KAG7B,KAiBC,uBAAG6B,MAAO,CAACC,WAAY,UAb5BvC,EAAS0B,OAEA,kDAAqB1B,EAASS,GAAa+B,OAA3C,cAAuDxC,EAASS,GAAagC,UAGlF,MASC,2BAAOC,IAAK1B,EAAU2B,UAAQ,EAACC,UAAQ,KAG3C,yBAAKjD,UAAU,cACX,4CACA,kBAAC,EAAD,CAAMK,SAAUA,EAAUR,YAjDlB,SAACqD,GACjB,IAAMC,EAAiBD,EAAEE,OAAOC,aAAa,cAC7CtC,EAAgBoC,OAkDZ,6BACI,0BAAMzB,SAAUR,EAAaQ,IACzB,2BAAOqB,IAAK9B,EAAUqC,KAAK,OAAOC,KAAK,OAAOC,OAAO,aAAaC,UAAQ,IAC1E,4CAGPC,QAAQC,IAAIxC,GAEb,6BACKA,EACD,6BACI,6BACI,4BAAKA,EAAaoC,MAClB,2BAAOxD,IAAK,IAAMoB,EAAaoC,KAAMP,UAAQ,EAACC,UAAQ,MAG1D,QC/ELW,MARf,WACE,OACE,yBAAK5D,UAAU,OACb,kBAAC,EAAD,QCFN6D,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.cb8c4259.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Lugu.scss';\r\n\r\ntype Props = {\r\n    looPilt: string;\r\n    handleClick: any;\r\n    index: number\r\n}\r\n\r\nconst Lugu: React.FC<Props> = ({ looPilt, handleClick, index }) => {\r\n    return (\r\n        <div>\r\n           <img \r\n                src={looPilt} \r\n                className=\"pildike\" \r\n                alt=\"pildike\" \r\n                onClick={handleClick} \r\n                data-index={index}\r\n           />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Lugu;","import React from 'react';\r\nimport Lugu from '../Lugu/Lugu';\r\n\r\ntype Props = {\r\n    playlist: any[];\r\n    handleClick: any;\r\n}\r\n\r\nconst Lood: React.FC<Props> = ({ playlist, handleClick }) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                {\r\n                playlist.map(((lugu:any, i:number) => {\r\n                    return (\r\n                        <Lugu \r\n                            key={lugu.looPilt} \r\n                            looPilt={lugu.looPilt}\r\n                            handleClick={handleClick}\r\n                            index={i}\r\n                        />\r\n                    )\r\n                }))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Lood;","import React from 'react';\r\nimport './ValitudLugu.scss';\r\n\r\nconst ValitudLugu: React.FC<any> = ({ lugu }) => {\r\n    return (\r\n        <div>\r\n            <img src={lugu.looPilt} alt='pildike'/>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ValitudLugu;","import React, { useState, useEffect, useRef, FC } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Lood from '../Lood/Lood';\r\nimport ValitudLugu from '../ValitudLugu/ValitudLugu';\r\n\r\nimport './Menu.scss';\r\n\r\nconst playlist = require('../../songPlaylist.json');\r\n\r\n\r\nconst Menu: FC = () => {\r\n    \r\n    const [activeIndex, setActiveIndex] = useState<number>(0);\r\n    const { register, handleSubmit } = useForm<any>();\r\n    const [uploadedFile, setUploadedFile] = useState<any>([]);\r\n\r\n    const musicRef = useRef<HTMLAudioElement>(null);\r\n\r\n    useEffect(() => {\r\n        if(musicRef.current)\r\n            musicRef.current.src = playlist[activeIndex].heliFail\r\n    }, [activeIndex]);\r\n\r\n    const handleClick = (e:any) => {\r\n        const newActiveIndex = e.target.getAttribute('data-index')\r\n        setActiveIndex( newActiveIndex )\r\n    };\r\n\r\n    const onSubmit = async (data:any) => {\r\n        const formData = new FormData();\r\n        for (let i = 0; i < data.length; i ++) {\r\n        formData.append(`file[${i}]`, data.file[i]);\r\n        };\r\n\r\n        const res = await fetch('http://localhost:5000/upload', {\r\n            method: \"POST\",\r\n            body: formData\r\n        }).then(res => res.json())\r\n        alert(JSON.stringify(res));\r\n        \r\n        setUploadedFile(data.file);\r\n    };\r\n\r\n    const renderValitudLugu = () => {\r\n        if(playlist.length) {\r\n            return (\r\n                <ValitudLugu lugu={playlist[activeIndex]}/>\r\n            )\r\n        }\r\n        return null\r\n    };\r\n\r\n    const renderValitudTekst = () => {\r\n        if(playlist.length) {\r\n            return (\r\n                    <p>{(`Now playing: ${playlist[activeIndex].laulja} - ${playlist[activeIndex].looNimi}`)}</p>\r\n            )\r\n        }\r\n        return null\r\n    };\r\n\r\n    return(\r\n        <div className=\"menu\">\r\n            {/* valitud loo preview */}\r\n            <div className=\"container1\">\r\n                {renderValitudLugu()}\r\n                <p style={{paddingTop: '350px'}}>{renderValitudTekst()}</p>\r\n                <audio ref={musicRef} autoPlay controls />\r\n            </div>\r\n            {/* lugude list */}\r\n            <div className=\"container2\">\r\n                <h1>Pick a song!</h1>\r\n                <Lood playlist={playlist} handleClick={handleClick}/>\r\n            </div>\r\n            {/* lugude uploadi form */}\r\n            <div>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <input ref={register} type=\"file\" name=\"file\" accept=\"audio/mpeg\" multiple />\r\n                    <button>Submit</button>\r\n                </form>\r\n            </div>\r\n            {console.log(uploadedFile)}\r\n            {/* uploaditud lugude sektsioon */}\r\n            <div>\r\n                {uploadedFile ? (\r\n                <div>\r\n                    <div>\r\n                        <h1>{uploadedFile.name}</h1>\r\n                        <audio src={'/' + uploadedFile.name} autoPlay controls />                          \r\n                    </div>\r\n                </div>\r\n                ) : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;\r\n","import React from 'react';\nimport './App.scss';\nimport Menu from './components/Menu/Menu';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Menu />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}