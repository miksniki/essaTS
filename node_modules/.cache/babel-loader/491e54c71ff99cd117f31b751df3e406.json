{"ast":null,"code":"import _toConsumableArray from\"/home/hypescript/Projects/essaTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/hypescript/Projects/essaTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hypescript/Projects/essaTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hypescript/Projects/essaTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useForm}from'react-hook-form';import Lood from'../Lood/Lood';import ValitudLugu from'../ValitudLugu/ValitudLugu';import'./Menu.scss';var axios=require('axios');var playlist=require('../../songPlaylist.json');var Menu=function Menu(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),uploadedFiles=_useState4[0],setUploadedFile=_useState4[1];var musicRef=useRef(null);useEffect(function(){if(musicRef.current&&musicRef.current.src!==playlist[activeIndex].heliFail)musicRef.current.src=playlist[activeIndex].heliFail;},[activeIndex]);var handleClick=function handleClick(e){var newActiveIndex=e.target.getAttribute('data-index');setActiveIndex(newActiveIndex);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var formData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('file',data.file[0]);_context.next=4;return fetch('http://localhost:5000/upload',{method:\"POST\",body:formData}).then(function(res){return res.json();});case 4:res=_context.sent;alert(JSON.stringify(res));case 6:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var getFiles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:5000/songs').then(function(res){return res.json();}).then(function(files){return setUploadedFile(files.files);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getFiles(){return _ref2.apply(this,arguments);};}();var splitAudio=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fileName){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:fetch(\"http://localhost:5000/\".concat(fileName,\"/split\")).then(function(res){return res.json();}).then(function(data){alert(JSON.stringify(data));console.warn(data);});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function splitAudio(_x2){return _ref3.apply(this,arguments);};}();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),valitudLood=_useState6[0],setValitudLood=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),editedSongs=_useState8[0],setEditedSongs=_useState8[1];var getEditedFiles=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:5000/editedSongs').then(function(res){return res.json();}).then(function(files){return setEditedSongs(files.files);});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function getEditedFiles(){return _ref4.apply(this,arguments);};}();var download=function download(fileName){var blob=new Blob(['audio'],{type:'audio/mpeg'});downloadFile(blob,\"\".concat(fileName));};var downloadFile=function downloadFile(blob,fileName){var url=window.URL.createObjectURL(blob);var a=document.createElement('a');a.href=url;a.download=fileName;a.click();};var checkboxChange=function checkboxChange(e){var checkedSongs=[].concat(_toConsumableArray(valitudLood),[e.target.value]);if(valitudLood.includes(e.target.value)){checkedSongs=checkedSongs.filter(function(file){return file!==e.target.value;});}setValitudLood(checkedSongs);};var concatAudio=function concatAudio(valitudLood){if(valitudLood.length===2){axios({method:\"POST\",url:'http://localhost:5000/concat',data:valitudLood});}else{alert(\"You need to select 2 songs!\");}};var deleteAudio=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(fileName){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:5000/delete/\".concat(fileName),{method:\"GET\"}).then(function(res){return res.json;});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteAudio(_x3){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container1\"},playlist.length&&/*#__PURE__*/React.createElement(ValitudLugu,{lugu:playlist[activeIndex]}),/*#__PURE__*/React.createElement(\"p\",{style:{paddingTop:'350px'}},playlist.length&&/*#__PURE__*/React.createElement(\"p\",null,\"Now playing: \".concat(playlist[activeIndex].laulja,\" - \").concat(playlist[activeIndex].looNimi))),/*#__PURE__*/React.createElement(\"audio\",{ref:musicRef,autoPlay:true,controls:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"container2\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pick a song!\"),/*#__PURE__*/React.createElement(Lood,{playlist:playlist,handleClick:handleClick})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"input\",{ref:register,type:\"file\",name:\"file\",accept:\"audio/mpeg\"}),/*#__PURE__*/React.createElement(\"button\",null,\"Submit\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:getFiles},\"Show uploaded songs\"),uploadedFiles?/*#__PURE__*/React.createElement(\"div\",null,uploadedFiles.map(function(fileName){return/*#__PURE__*/React.createElement(\"div\",{className:\"uploadedSongs\"},/*#__PURE__*/React.createElement(\"h1\",null,fileName,/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:fileName,value:fileName,onChange:checkboxChange})),/*#__PURE__*/React.createElement(\"audio\",{src:'/'+fileName,controls:true}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return splitAudio(fileName);}},\"Split audio\"));}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return concatAudio(valitudLood);}},\"Concat selected songs\"),/*#__PURE__*/React.createElement(\"button\",{onClick:getEditedFiles},\"Show edited songs\"),editedSongs?/*#__PURE__*/React.createElement(\"div\",null,editedSongs.map(function(fileName){return/*#__PURE__*/React.createElement(\"div\",{className:\"editedSongs\"},/*#__PURE__*/React.createElement(\"h1\",null,fileName),/*#__PURE__*/React.createElement(\"audio\",{src:'/'+fileName,controls:true}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return download(fileName);}},\"Download\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteAudio(fileName);}},\"Delete\"));})):null):null));};export default Menu;","map":{"version":3,"sources":["/home/hypescript/Projects/essaTS/src/components/Menu/Menu.tsx"],"names":["React","useState","useEffect","useRef","useForm","Lood","ValitudLugu","axios","require","playlist","Menu","activeIndex","setActiveIndex","register","handleSubmit","uploadedFiles","setUploadedFile","musicRef","current","src","heliFail","handleClick","e","newActiveIndex","target","getAttribute","onSubmit","data","formData","FormData","append","file","fetch","method","body","then","res","json","alert","JSON","stringify","getFiles","files","splitAudio","fileName","console","warn","valitudLood","setValitudLood","editedSongs","setEditedSongs","getEditedFiles","download","blob","Blob","type","downloadFile","url","window","URL","createObjectURL","a","document","createElement","href","click","checkboxChange","checkedSongs","value","includes","filter","concatAudio","length","deleteAudio","paddingTop","laulja","looNimi","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, FC } from 'react';\nimport { useForm } from 'react-hook-form';\nimport Lood from '../Lood/Lood';\nimport ValitudLugu from '../ValitudLugu/ValitudLugu';\n\nimport './Menu.scss';\n\nconst axios = require('axios');\nconst playlist = require('../../songPlaylist.json');\n\n\nconst Menu: FC = () => {\n    \n    const [activeIndex, setActiveIndex] = useState<number>(0);\n    const { register, handleSubmit } = useForm<any>();\n    const [uploadedFiles, setUploadedFile] = useState<any>();\n\n    const musicRef = useRef<HTMLAudioElement>(null);\n\n    useEffect(() => {\n        if(musicRef.current && musicRef.current.src !== playlist[activeIndex].heliFail)\n            musicRef.current.src = playlist[activeIndex].heliFail\n    }, [activeIndex]);\n\n    const handleClick = (e:any) => {\n        const newActiveIndex = e.target.getAttribute('data-index')\n        setActiveIndex( newActiveIndex )\n    };\n\n    const onSubmit = async (data:any) => {\n        const formData = new FormData();\n        formData.append('file', data.file[0]);\n\n        const res = await fetch('http://localhost:5000/upload', {\n            method: \"POST\",\n            body: formData\n        }).then(res => res.json())\n        alert(JSON.stringify(res))\n    };\n\n    const getFiles = async () => {\n        await fetch('http://localhost:5000/songs')\n            .then(res => res.json())\n            .then(files => setUploadedFile(files.files))\n    };\n\n    const splitAudio = async (fileName: string) => {\n        fetch(`http://localhost:5000/${fileName}/split`) \n            .then(res => res.json())\n            .then(function(data){alert(JSON.stringify(data))\n            console.warn(data)\n        })\n    }\n\n    const [valitudLood, setValitudLood] = useState<any>([]);\n    const [editedSongs, setEditedSongs] = useState<any>();\n\n    const getEditedFiles = async () => {\n        await fetch('http://localhost:5000/editedSongs')\n            .then(res => res.json())\n            .then(files => setEditedSongs(files.files))\n    };\n\n    const download = (fileName:any) => {\n        const blob = new Blob(['audio'], {type: 'audio/mpeg'})\n        downloadFile(blob, `${fileName}`);\n    }\n\n    const downloadFile = (blob:any, fileName:any) => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href= url;\n        a.download = fileName;\n        a.click();\n    }\n\n    const checkboxChange = (e:any) => {\n        let checkedSongs = [...valitudLood, e.target.value];\n        if(valitudLood.includes(e.target.value )) {\n            checkedSongs = checkedSongs.filter(file => file !== e.target.value);\n        }\n        setValitudLood(checkedSongs)\n    }\n\n    const concatAudio = (valitudLood:string[]) => {\n        if (valitudLood.length === 2){\n            axios({\n            method: \"POST\",\n            url: 'http://localhost:5000/concat',\n            data: valitudLood\n            })\n        } else {\n            alert(\"You need to select 2 songs!\")\n        }\n    }  \n\n    const deleteAudio = async (fileName:string) => {\n        await fetch(`http://localhost:5000/delete/${fileName}`, {\n            method: \"GET\"\n        })\n        .then(res => res.json)\n    }\n    \n    return(\n        <div className=\"menu\">\n            {/* valitud loo preview */}\n            <div className=\"container1\">\n                {playlist.length &&  <ValitudLugu lugu={playlist[activeIndex]}/>}\n                <p style={{paddingTop: '350px'}}>\n                    {playlist.length && \n                    <p>{(`Now playing: ${playlist[activeIndex].laulja} - ${playlist[activeIndex].looNimi}`)}</p>}</p>\n                <audio ref={musicRef} autoPlay controls />\n            </div>\n            {/* lugude list */}\n            <div className=\"container2\">\n                <h1>Pick a song!</h1>\n                <Lood playlist={playlist} handleClick={handleClick}/>\n            </div>\n            {/* lugude uploadi form */}\n            <div>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <input ref={register} type=\"file\" name=\"file\" accept=\"audio/mpeg\" />\n                    <button>Submit</button>\n                </form>\n            </div>\n\n            {/* uploaditud lugude sektsioon */}\n            <div>\n                <button onClick={getFiles}>Show uploaded songs</button>\n                {uploadedFiles ? (\n                <div>\n                    {uploadedFiles.map((fileName: string) =>\n                        <div className=\"uploadedSongs\">\n                            <h1>\n                                {fileName}\n                                <input type=\"checkbox\" id={fileName} value={fileName} onChange={checkboxChange}></input>\n                            </h1>\n                            <audio src={'/' + fileName} controls />\n                            <button onClick={() => splitAudio(fileName)}>Split audio</button>                           \n                        </div>\n                    )}\n                    <button onClick={() => concatAudio(valitudLood)}>Concat selected songs</button>\n                    <button onClick={getEditedFiles}>Show edited songs</button>\n                    {editedSongs ? (\n                    <div>\n                        {editedSongs.map((fileName: string) => \n                        <div className=\"editedSongs\">\n                            <h1>\n                            {fileName}\n                            </h1>\n                            <audio src={'/' + fileName} controls />\n                            <button onClick={() => download(fileName)}>Download</button>\n                            <button onClick={() => deleteAudio(fileName)}>Delete</button>\n                        </div>\n                        )}\n                    </div>\n                    ): null}\n                    </div>               \n                ) : null}\n            </div>\n        </div>\n    )\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}